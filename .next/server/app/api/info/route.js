"use strict";(()=>{var e={};e.id=874,e.ids=[874],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7412:(e,t,n)=>{n.r(t),n.d(t,{originalPathname:()=>f,patchFetch:()=>h,requestAsyncStorage:()=>g,routeModule:()=>m,serverHooks:()=>x,staticGenerationAsyncStorage:()=>j});var a={};n.r(a),n.d(a,{DELETE:()=>c,GET:()=>p,POST:()=>d,PUT:()=>l});var r=n(9303),s=n(8716),o=n(670),u=n(7070),i=n(2663);async function p(e){try{let e=await i.Z.pengumuman.findMany();if(!e||0===e.length)return u.NextResponse.json({message:"No announcements found"},{status:404});let t=e.reduce((e,t)=>new Date(e.date)>new Date(t.date)?e:t);return u.NextResponse.json({latest:t,all:e})}catch(e){return u.NextResponse.json({message:"Internal Server Error"},{status:500})}}async function d(e){try{let t=await e.json(),n=await i.Z.pengumuman.create({data:{judul:t.judul,konten:t.konten,date:new Date(t.date)}});return u.NextResponse.json(n,{status:201})}catch(e){return u.NextResponse.json({message:"Internal Server Error"},{status:500})}}async function l(e){try{let t=await e.json(),n=await i.Z.pengumuman.update({where:{id:Number(t.id)},data:{judul:t.judul,konten:t.konten,date:new Date(t.date)}});return u.NextResponse.json(n)}catch(e){return u.NextResponse.json({message:"Internal Server Error"},{status:500})}}async function c(e){try{let t=await e.json();return await i.Z.pengumuman.delete({where:{id:Number(t.id)}}),u.NextResponse.json({message:"Announcement deleted successfully"})}catch(e){return u.NextResponse.json({message:"Internal Server Error"},{status:500})}}let m=new r.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/info/route",pathname:"/api/info",filename:"route",bundlePath:"app/api/info/route"},resolvedPagePath:"/home/azam/Documents/sis-main/app/api/info/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:g,staticGenerationAsyncStorage:j,serverHooks:x}=m,f="/api/info/route";function h(){return(0,o.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:j})}},2663:(e,t,n)=>{n.d(t,{Z:()=>r});let a=require("@prisma/client"),r=global.globalThis.prisma||new a.PrismaClient}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),a=t.X(0,[276,972],()=>n(7412));module.exports=a})();